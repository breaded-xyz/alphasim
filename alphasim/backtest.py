def backtest(prices, weights, commission_func, trade_buffer, initial_capital):

    # Join prices & weights with multi-index columns: (ticker, [price, target_weight, curr_weight, delta_weight]
    # Add 'cash' ticker
    # For every row, calc target

    return 0
